<app-header></app-header>

<div class="content page-body">
  <div class="container">
    <div class="row p-2">
      <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 p-2">
        <form #form="ngForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="exampleInputEmail1">Full name</label>
            <input
              type="text"
              class="form-control"
              id="fullName"
              name="fullName"
              [(ngModel)]="fullName"
              required
              minlength="3"
              placeholder="(minimum 3 characters)"
            />
          </div>
          <div class="form-group">
            <label for="exampleInputEmail1">Address</label>
            <input
              type="text"
              class="form-control"
              id="address"
              name="address"
              [(ngModel)]="address"
              required
              minlength="6"
              placeholder="(minimum 6 characters)"
            />
          </div>

          <div class="form-group">
            <label for="exampleInputEmail1">Credit card number</label>
            <input
              type="number"
              class="form-control"
              id="creditCard"
              name="creditCard"
              [(ngModel)]="crNumber"
              required
              minlength="16"
              placeholder="(16-digit number)"
            />
            <small id="emailHelp" class="form-text text-muted"
              >We'll never share your payment details with anyone else.</small
            >
          </div>

          <button
            type="submit"
            class="btn btn-primary m-2s"
            [disabled]="form.invalid && cart.length <= 0"
          >
            Submit
          </button>
        </form>
      </div>

      <div
        class="col-12 col-sm-12 col-md-6 col-lg-8 col-xl-8 p-2 products page-body p-5"
      >
        <div class="row m-2">
          <div
            class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6"
            *ngFor="let product of cart"
          >
            <div class="row p-2 m-2">
              <div class="col-12 col-md-6">
                <img
                  src="{{ product.url }}"
                  class="card-img-top"
                  style="max-height: 400px; object-fit: contain"
                  alt="..."
                />
              </div>
              <div class="col-12 col-md-6">
                <div class="card-body">
                  <h5 class="card-title">{{ product.name }}</h5>
                  <h5 class="card-title">{{ product.price }} $</h5>

                  <p class="card-text">
                    <input
                      min="0"
                      type="number"
                      name="edtCount"
                      id="edtCount"
                      (change)="countChanged(product)"
                      [(ngModel)]="product.count"
                    />
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="footer">
  <div class="container h-100">
    <div class="center">Total : {{ totalValue }} $</div>
  </div>
</div>
